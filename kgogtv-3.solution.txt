PB028
REDUCE SIZE ATTEMPT
NOTE =================XD
NOTE NOTARY
LINK 800
LINK 799
LINK -1
MAKE
MARK RECORD
COPY M F
JUMP RECORD
NOTE =================XC
GRAB 301
NOTE SKIP VIDEO DESC
SEEK 1
LINK 800
LINK 799
MARK LOAD
COPY 1 M
COPY F X
NOTE X = DATA
SUBI X 9999 X
NOTE X = DATA - 9999
ADDI M X X
TEST X < 0
TJMP NORMALIZE
SUBI X 1 X
JUMP RECORD
MARK NORMALIZE
ADDI 9999 X X
MARK RECORD
LINK -1
NOTE MODE G->L
MODE
COPY X M
NOTE MODE L->G
MODE
TEST EOF
TJMP ENDING
LINK 800
JUMP LOAD
MARK ENDING
KILL
COPY 0 M
WIPE
GRAB 400
LINK 800
NOTE =================XB
LINK 800
GRAB 199
MARK STAGE
TEST EOF
FJMP LOAD
SEEK -9999
MARK LOAD
NOTE 0 MEANS STOP
COPY M T
TJMP CONTINUE
DROP
LINK 799
LINK 800
LINK -1
NOTE LINK 801
NOTE LINK -1
GRAB 400
MARK BUFFER
COPY F #DATA
TEST EOF
FJMP BUFFER
WIPE
HALT
MARK CONTINUE
COPY F M
JUMP STAGE
NOTE =================XA
GRAB 300
LINK 800
LINK 799
SEEK 1
COPY F X
REPL AZIM
SEEK 1
COPY F X
REPL ELEV
NOTE FREQ
SEEK 1
COPY F #FREQ
WIPE
HALT
MARK AZIM
LINK 800
SUBI X #AZIM X
TEST X > 0
TJMP DECREMENT
JUMP INCREMENT
MARK ELEV
LINK 801
SUBI X #ELEV X
TEST X > 0
TJMP DECREMENT
JUMP INCREMENT
HALT
MARK DECREMENT
COPY X T
MARK DLOOP
COPY T #MOTR
SUBI T 1 T
TJMP DLOOP
HALT
MARK INCREMENT
COPY X T
MARK ILOOP
COPY T #MOTR
ADDI T 1 T
TJMP ILOOP
